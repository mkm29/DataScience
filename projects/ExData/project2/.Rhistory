coinFlip2 <- rbinom(1,1,0.5)
if (coinFlip1) {
print(paste("set row", i, sep = " "))
dataMatrix[i,] <- dataMatrix[i,] + rep(c(0,1), each = 5)
}
if (coinFlip2) {
print(paste("set row", i, sep = " "))
dataMatrix[i,] <- dataMatrix[i,] + rep(c(0,1), 5)
}
}
dataMatrix
hh <- hclust(dist(dataMatrix))
dataMatrixOrdered <- dataMatrix[hh$order, ]
svd2 <- svd(scale(dataMatrixOrdered))
par(mfrow = c(1,3))
image(t(dataMatrixOrdered)[,nrow(dataMatrixOrdered):1])
plot(svd2$v[,1], pch = 19, ylab = "First right singular vector")
plot(svd2$v[,2], pch = 19, ylab = "Second right singular vector")
par(mfrow = c(1,2))
plot(svd2$d, xlab = "Column", ylab = "Signular value", pch = 19)
plot(svd2$d^2/sum(svd2$d^2), xlab = "Column", ylab = "Prop. of variance explained", pch = 19)
svd2$d
svd2$d^2/sum(svd2$d^2)
svd1$d^2/sum(svd1$d^2)
source("https://bioconductor.org/biocLite.R")
source("https://bioconductor.org/biocLite.R")
biocLite("impute")
## try http:// if https:// URLs are not supported
source("https://bioconductor.org/biocLite.R")
biocLite()
## try http:// if https:// URLs are not supported
source("https://bioconductor.org/biocLite.R")
biocLite("impute")
library(impute)
dataMatrix <- matrix(rnorm(400), nrow = 40)
hh <- hclust(dist(dataMatrix))
dataMatrixOrdered <- dataMatrix[hh$order, ]
dataMatrix2 <- dataMatrixOrdered
dataMatrix2[sample(1:100,size = 40, replace = F)]
dataMatrix2 <- dataMatrixOrdered
dataMatrix2[sample(1:100,size = 40, replace = F)] <- NA
dataMatrix2
dataMatrix2 <- impute.knn(dataMatrix2)$data
dataMatrix2
svd1 <- svd(scale(dataMatrixOrdered))
svd2 <- svd(scale(dataMatrix2))
svd1 <- svd(scale(dataMatrixOrdered))
svd2 <- svd(scale(dataMatrix2))
par(mfrow = c(1,2)); plot(svd1$v[,1], pch = 19); plot(svd2$v[,1], pch = 19)
dim(svd2$d)
svd2$d
length(svd2$d)
dim(svd2$u)
dim(svd2$v)
heat.colors()
heat.colors(1)
heat.colors(100)
topo.colors(100)
library(grDevices)
colors()
pal <- colorRamp(c("red", "blue"))
pal(0)
pal(0.5)
35/5330000
1/6.566604e-06
install.packages("RColorBrewer")
library(RColorBrewer)
cols <- brewer.pal(5, "BuGN")
cols <- brewer.pal(5, "BuGn")
cols
pal <- colorRampPalette(cols)
pal(1)
?rgb
rgb(0,1,0)
rgb(0,1,0, alpha = 0.5)
rgb(0,1,0, alpha = 1)
x <- rnorm(1000)
y <- rnorm(1000)
plot(x,y)
par(mfrow = c(1,1))
plot(x,y)
plot(x,y, col = rgb(0,0,0,0.2))
plot(x,y, col = rgb(0,0,0,0.2), pch = 19)
smoothScatter(x,y)
source('~/Desktop/DataScience/smartphone_analysis.R')
source('~/Desktop/DataScience/smartphone_analysis.R')
projectDirectory
dataDirectory
paste0(dataDirectory, "/UCI HAR Dataset.zip")
source('~/Desktop/DataScience/smartphone_analysis.R')
source('~/Desktop/DataScience/smartphone_analysis.R')
source('~/Desktop/DataScience/smartphone_analysis.R')
projectDataDirectory
setwd(projectDataDirectory)
dir()
source('~/Desktop/DataScience/smartphone_analysis.R')
head(x.train)
View(y.train)
source('~/Desktop/DataScience/smartphone_analysis.R')
head(train.subject)
head(train.y)
names(train.x)
source('~/Desktop/DataScience/smartphone_analysis.R')
source('~/Desktop/DataScience/smartphone_analysis.R')
View(features)
source('~/Desktop/DataScience/smartphone_analysis.R')
names(train.x)
names(train.x) <- as.character(features[,2])
colnames(train.x)
colnames(train.x) <- features$V2
source('~/Desktop/DataScience/smartphone_analysis.R')
head(train.x)
View(train.x)
?rm
View(activity.labels)
activity.labels[,2]
al <- activity.labels[,2]
al
source('~/Desktop/DataScience/smartphone_analysis.R')
View(activity.labels)
source('~/Desktop/DataScience/smartphone_analysis.R')
View(activity.labels)
View(train.subject)
names(train.x)
names(train.x)[1:12]
table(train.y)
View(train.y)
37/5330000
1/6.941839e-06
6.941839e-06*377165
library(swirl)
swirl()
swirl()
install.packages("fields")
library(fields)
install.packages("fields")
library(fields)
swirl()
dist(dataFrame)
hc <- hclust(distxy)
plot(hc)
plot(as.dendrogram(hc))
abline(h = 1.5, col = "blue")
abline(h = 0.4, col = "red")
5
12
abline(h = 0.05, col = "green")
View(dFsm)
dist(dFsm)
hc
heatmap(dataMatrix, col = cm.colors(25))
heatmap(mt)
mt
plot(denmt)
distmt
cmat
points(cx, cy, col = c("red", "orange", "purple"), pch = 3, cex = 2, lwd = 2)
mdist(x,y,cx,cy)
apply(distTmp, 2, which.min)
points(x,y,pch = 19, cex=2, col = cols1[newClust]
)
tapply(x, newClust, mean)
tapply(y, newClust, mean)
points(newCx, newCy, col = cols1, pch = 8, cex = 2, lwd = 2)
mdist(x,y,newCx, newCy)
apply(distTmp2, 2, which.min)
points(x,y,pch=19,cex=2,col = cols1[newClust2])
tapply(x, newClust2, mean)
tapply(y, newClust2, mean)
points(finalCx, finalCy, col = cols1, pch=9, cex=2,lwd=2)
kmeans(dataFrame, centers = 3)
kmObj$iter
plot(x,y,kmObj$cluster,pch=19,cex=2)
plot(x,y,col = kmObj$cluster,pch=19,cex=2)
points(kmObj$centers[,1], kmObj$centers[,2], col = c("black", "red", "green"), pch = 3, cex=3, lwd=3)
points(kmObj$centers, col = c("black", "red", "green"), pch = 3, cex=3, lwd=3)
plot(x,y,col = kmeans(dataFrame,6)$cluster, pch=19, cex=2)
plot(x,y,col = kmeans(dataFrame,6)$cluster, pch=19, cex=2)
plot(x,y,col = kmeans(dataFrame,6)$cluster, pch=19, cex=2)
summary(kmObj)
kmObj
kmObj2 <- kmeans(dataFrame, centers = 4)
kmObj2
swirl()
head(dataMatrix)
heatmap(dataMatrix)
myedit("addPath.R")
myedit("addPatt.R")
source("addPatt.R", local = T)
source("addPatt.R", local = TRUE)
heatmap(dataMatrix)
paste(getwd(),"NEI",sep = "/")
setwd("~/Desktop/DataScience/coursera/projects/ExData/project2")
zipURL = "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip"
if(!dir.exists("NEI")) {
if(!file.exists("NEI.zip")) {
download.file(zipURL, destfile = "NEI.zip")
}
}
unzip("NEI.zip", exdir = "NEI")
dir()
setwd(paste(getwd(),"NEI",sep = "/"))
dir()
SCC <- loadRDS("Source_Classification_Code.rds")
SCC <- readRDS("Source_Classification_Code.rds")
NEI <- readRDS("summarySCC_PM25.rds")
NEI.SCC <- merge.data.frame(NEI, SCC, by = "SCC")
yearly <- NEI.SCC %>% group_by(year) %>% summarise(MeanEmissions = mean(Emissions), MedianEmissions = median(Emissions), Observations = n())
library(data.table)
library(dplyr)
library(ggplot2
yearly <- NEI.SCC %>% group_by(year) %>% summarise(MeanEmissions = mean(Emissions), MedianEmissions = median(Emissions), Observations = n())
library(ggplot2)
yearly <- NEI.SCC %>% group_by(year) %>% summarise(MeanEmissions = mean(Emissions), MedianEmissions = median(Emissions), Observations = n())
par(mfrow = c(2,1))
plot(yearly$year, yearly$MeanEmissions)
par(mfrow=c(1,1))
plot(yearly$year, yearly$MeanEmissions, type = "l")
r1 <- range(log10(yearly$MeanEmissions))
r2 <- range(log10(yearly$MedianEmissions))
r <- c(min(r1,r2), max(r1,r2))
par(mfrow = c(2,1))
plot(x=yearly$year, y = log10(yearly$MeanEmissions), ylim = r, type = "l")
plot.new()
plot(x=yearly$year, y = log10(yearly$MedianEmissions), ylim = r, type = "l")
par(mfrow = c(1,1))
plot(x=yearly$year, y = log10(yearly$MeanEmissions), ylim = r, type = "l")
#plot.new()
plot(x=yearly$year, y = log10(yearly$MedianEmissions), ylim = r, type = "l"
log10(yearly)
log10(yearly$MeanEmissions)
log10(yearly$MedianEmissions)
plot(log10(yearly$MedianEmissions))
r
par(mfrow = c(1,1))
#plot.new()
plot(x=yearly$year, y = log10(yearly$MedianEmissions), ylim = r, type = "l", col = "blue")
?plot.new
plot(x=yearly$year, y = log10(yearly$MeanEmissions), ylim = r, type = "l", col = "red")
par(mfrow = c(1,1))
plot(x=yearly$year, y = log10(yearly$MeanEmissions), ylim = r, type = "l", col = "red")
par(new = TRUE)
plot(x=yearly$year, y = log10(yearly$MedianEmissions), ylim = r, type = "l", col = "blue")
?legend
legend("topright", legend = c("Mean", "Median"), col = c("red", "blue"))
par(mfrow = c(1,1))
plot(x=yearly$year, y = log10(yearly$MeanEmissions), ylim = r, type = "l", col = "red")
par(new = TRUE)
plot(x=yearly$year, y = log10(yearly$MedianEmissions), ylim = r, type = "l", col = "blue")
legend("topright", legend = c("Mean", "Median"), col = c("red", "blue"), lty=c(1,1))
par(mfrow = c(1,1))
plot(x=yearly$year, y = log10(yearly$MeanEmissions), ylim = r, type = "l", col = "red", xlab = "Year", ylab = "PM2.5 Value", main = "Emissions, United States 1999-2008")
par(new = TRUE)
plot(x=yearly$year, y = log10(yearly$MedianEmissions), ylim = r, type = "l", col = "blue", xlab = "Year", ylab = "PM2.5 Value")
legend("topright", legend = c("Mean", "Median"), col = c("red", "blue"), lty=c(1,1))
par(mfrow = c(1,1))
plot(x=yearly$year, y = log10(yearly$MeanEmissions), ylim = r, type = "l", col = "red", xlab = "Year", ylab = "Log of PM2.5 Value", main = "Emissions, United States 1999-2008")
par(new = TRUE)
plot(x=yearly$year, y = log10(yearly$MedianEmissions), ylim = r, type = "l", col = "blue", xlab = "Year", ylab = "Log of PM2.5 Value")
legend("topright", legend = c("Mean", "Median"), col = c("red", "blue"), lty=c(1,1))
png(filename = "plot1.R", width = 800, height = 600)
par(mfrow = c(1,1))
plot(x=yearly$year, y = log10(yearly$MeanEmissions), ylim = r, type = "l", col = "red", xlab = "Year", ylab = "Log of PM2.5 Value", main = "Emissions, United States 1999-2008")
par(new = TRUE)
plot(x=yearly$year, y = log10(yearly$MedianEmissions), ylim = r, type = "l", col = "blue", xlab = "Year", ylab = "Log of PM2.5 Value")
legend("topright", legend = c("Mean", "Median"), col = c("red", "blue"), lty=c(1,1))
dev.off()
?barplot
barplot(yearly$MeanEmissions)
barplot(yearly$MedianEmissions)
?barplot
barplot(yearly$MedianEmissions, names.arg = yearly$year)
barplot(yearly$MedianEmissions, names.arg = yearly$year, ylab = "Emission Value")
barplot(yearly$MedianEmissions, names.arg = yearly$year, ylab = "Emission Value", main = "PM2.5 Emissions, United States 1999-2008")
barplot(yearly$MedianEmissions, names.arg = yearly$year, ylab = "Emission Value", main = "PM2.5 Emissions, United States 1999-2008", col = c("green", "blue", "purple", "red"))
barplot(yearly$MedianEmissions, names.arg = yearly$year, ylab = "Emission Value", main = "PM2.5 Emissions, United States 1999-2008", col = c("green", "blue", "purple", "red"), xlab = "Year")
par(mfrow = c(2,1))
barplot(yearly$MedianEmissions, names.arg = yearly$year, ylab = "Emission Value", main = "PM2.5 Emissions, United States 1999-2008", col = c("green", "blue", "purple", "red"), xlab = "Year")
plot(x=yearly$year, y = log10(yearly$MeanEmissions), ylim = r, type = "l", col = "red", xlab = "Year", ylab = "Log of PM2.5 Value", main = "Emissions, United States 1999-2008")
par(new = TRUE)
plot(x=yearly$year, y = log10(yearly$MedianEmissions), ylim = r, type = "l", col = "blue", xlab = "Year", ylab = "Log of PM2.5 Value")
legend("topright", legend = c("Mean", "Median"), col = c("red", "blue"), lty=c(1,1))
setwd("../")
getwd()
png(filename = "plot1.png", width = 800, height = 600)
par(mfrow = c(2,1))
barplot(yearly$MedianEmissions, names.arg = yearly$year, ylab = "Emission Value", main = "PM2.5 Emissions, United States 1999-2008", col = c("green", "blue", "purple", "red"), xlab = "Year")
plot(x=yearly$year, y = log10(yearly$MeanEmissions), ylim = r, type = "l", col = "red", xlab = "Year", ylab = "Log of PM2.5 Value", main = "Emissions, United States 1999-2008")
par(new = TRUE)
plot(x=yearly$year, y = log10(yearly$MedianEmissions), ylim = r, type = "l", col = "blue", xlab = "Year", ylab = "Log of PM2.5 Value")
legend("topright", legend = c("Mean", "Median"), col = c("red", "blue"), lty=c(1,1))
dev.off()
library(data.table)
library(dplyr)
setwd("~/Desktop/DataScience/coursera/projects/ExData/project2")
zipURL = "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip"
if(!dir.exists("NEI")) {
if(!file.exists("NEI.zip")) {
download.file(zipURL, destfile = "NEI.zip")
}
}
unzip("NEI.zip", exdir = "NEI")
setwd(paste(getwd(),"NEI",sep = "/"))
SCC <- readRDS("Source_Classification_Code.rds")
NEI <- readRDS("summarySCC_PM25.rds")
NEI.SCC <- merge.data.frame(NEI, SCC, by = "SCC")
baltimore <- NEI %>% filter(fips == "24510") %>% group_by(year) %>% summarise(MeanEmissions = mean(Emissions), MedianEmissions = median(Emissions))
baltimore <- NEI.SCC %>% filter(fips == "24510") %>% group_by(year) %>% summarise(MeanEmissions = mean(Emissions), MedianEmissions = median(Emissions))
baltimore
# because the mean is more sensitive to outtliers we will use the median
plot(x=baltimore$year, y=baltimore$MedianEmissions, col = "blue", lwd = 2, lty = 2, xlab = "Year", ylab = "Emission Value", main = "PM2.5 Emissions, Baltimore 1999-2008")
par(mfrow = c(1,1))
plot(x=baltimore$year, y=baltimore$MedianEmissions, col = "blue", lwd = 2, lty = 2, xlab = "Year", ylab = "Emission Value", main = "PM2.5 Emissions, Baltimore 1999-2008", type = "l")
getwd()
par(mfrow = c(1,1))
setwd("../")
png(filename = "plot2.png", width = 800, height = 600)
plot(x=baltimore$year, y=baltimore$MedianEmissions, col = "blue", lwd = 2, lty = 2, xlab = "Year", ylab = "Emission Value", main = "PM2.5 Emissions, Baltimore 1999-2008", type = "l")
dev.off()
library(ggplot2)
baltimore <- NEI.SCC %>% filter(fips == "24510") %>% group_by(year, type) %>% summarise(MeanEmissions = mean(Emissions), MedianEmissions = median(Emissions))
baltimore
baltimore <- subset(NEI.SCC, fips == "24510")
getwd()
setwd(paste(getwd(),"NEI",sep = "/"))
baltimore <- subset(NEI.SCC, fips == "24510")
baltimore.types <- baltimore %>% group_by(type, year) %>% summarise(Mean = mean(Emissions), Median = median(Emissions))
baltimore.types$type <- with(baltimore.types, as.factor(type))
setwd("../")
png(filename = "plot3.png", width = 1000, height = 800)
# for this plot, you will have 4 lines (one for each type), the x axis is the year and the y is the mean emissions
p1 <- ggplot(baltimore.types, aes(year, log10(Mean))) +
geom_line(aes(col = type)) +
ggtitle("Mean Emissions, per type 1999-2008")
p2 <- ggplot(baltimore.types, aes(year, log10(Median))) +
geom_line(aes(col = type)) +
ggtitle("Median Emissions, per type 1999-2008")
plot.new()
grid.newpage()
grid.arrange(p1, p2, ncol = 1, nrow = 2)
dev.off()
png(filename = "plot3.png", width = 1000, height = 800)
# for this plot, you will have 4 lines (one for each type), the x axis is the year and the y is the mean emissions
p1 <- ggplot(baltimore.types, aes(year, log10(Mean))) +
geom_line(aes(col = type)) +
ggtitle("Mean Emissions, per type 1999-2008")
p2 <- ggplot(baltimore.types, aes(year, log10(Median))) +
geom_line(aes(col = type)) +
ggtitle("Median Emissions, per type 1999-2008")
plot.new()
grid.newpage()
grid.arrange(p1, p2, ncol = 1, nrow = 2)
dev.off()
library(grid)
png(filename = "plot3.png", width = 1000, height = 800)
# for this plot, you will have 4 lines (one for each type), the x axis is the year and the y is the mean emissions
p1 <- ggplot(baltimore.types, aes(year, log10(Mean))) +
geom_line(aes(col = type)) +
ggtitle("Mean Emissions, per type 1999-2008")
p2 <- ggplot(baltimore.types, aes(year, log10(Median))) +
geom_line(aes(col = type)) +
ggtitle("Median Emissions, per type 1999-2008")
plot.new()
grid.newpage()
grid.arrange(p1, p2, ncol = 1, nrow = 2)
dev.off()
library(gridExtra)
p1 <- ggplot(baltimore.types, aes(year, log10(Mean))) +
geom_line(aes(col = type)) +
ggtitle("Mean Emissions, per type 1999-2008")
p2 <- ggplot(baltimore.types, aes(year, log10(Median))) +
geom_line(aes(col = type)) +
ggtitle("Median Emissions, per type 1999-2008")
plot.new()
grid.newpage()
grid.arrange(p1, p2, ncol = 1, nrow = 2)
png(filename = "plot3.png", width = 1000, height = 800)
# for this plot, you will have 4 lines (one for each type), the x axis is the year and the y is the mean emissions
p1 <- ggplot(baltimore.types, aes(year, log10(Mean))) +
geom_line(aes(col = type)) +
ggtitle("Mean Emissions, per type 1999-2008")
p2 <- ggplot(baltimore.types, aes(year, log10(Median))) +
geom_line(aes(col = type)) +
ggtitle("Median Emissions, per type 1999-2008")
plot.new()
grid.newpage()
grid.arrange(p1, p2, ncol = 1, nrow = 2)
dev.off()
NEI.SCC$Coal <<- with(NEI.SCC, grepl("[Cc]oal", Short.Name, perl = T))
library(data.table)
library(dplyr)
library(ggplot2)
library(grid)
library(gridExtra)
setwd("~/Desktop/DataScience/coursera/projects/ExData/project2")
zipURL = "https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip"
if(!dir.exists("NEI")) {
if(!file.exists("NEI.zip")) {
download.file(zipURL, destfile = "NEI.zip")
}
}
unzip("NEI.zip", exdir = "NEI")
setwd(paste(getwd(),"NEI",sep = "/"))
SCC <- readRDS("Source_Classification_Code.rds")
NEI <- readRDS("summarySCC_PM25.rds")
NEI.SCC <- merge.data.frame(NEI, SCC, by = "SCC")
NEI.SCC$Coal <- with(NEI.SCC, grepl("[Cc]oal", Short.Name, perl = T))
yearly.coal <- NEI.SCC %>% group_by(year, Coal) %>% summarise(Mean = mean(Emissions), Median = median(Emissions))
setwd("../")
coalPlot1 <- ggplot(yearly.coal, aes(year, log10(Mean))) +
geom_line(aes(col = as.factor(Coal))) +
scale_color_manual(labels = c("Non-coal", "Coal"), values = c("red", "blue")) +
ggtitle("Mean Emissions 1999-2008")
coalPlot2 <- ggplot(yearly.coal, aes(year, log10(Median))) +
geom_line(aes(col = as.factor(Coal))) +
scale_color_manual(labels = c("Non-coal", "Coal"), values = c("red", "blue")) +
ggtitle("Median Emissions 1999-2008")
coalPlot1$labels$colour <- ""
coalPlot2$labels$colour <- ""
plot.new()
grid.newpage()
grid.arrange(coalPlot1, coalPlot2)
png(filename = "plot4.png", width = 1000, height = 800)
coalPlot1 <- ggplot(yearly.coal, aes(year, log10(Mean))) +
geom_line(aes(col = as.factor(Coal))) +
scale_color_manual(labels = c("Non-coal", "Coal"), values = c("red", "blue")) +
ggtitle("Mean Emissions 1999-2008")
coalPlot2 <- ggplot(yearly.coal, aes(year, log10(Median))) +
geom_line(aes(col = as.factor(Coal))) +
scale_color_manual(labels = c("Non-coal", "Coal"), values = c("red", "blue")) +
ggtitle("Median Emissions 1999-2008")
coalPlot1$labels$colour <- ""
coalPlot2$labels$colour <- ""
plot.new()
grid.newpage()
grid.arrange(coalPlot1, coalPlot2)
dev.off()
NEI.SCC$Highway <- with(NEI.SCC, grepl("[Hh]ighway", Short.Name, perl = T))
baltimore.highway <- NEI.SCC %>% group_by(year, Highway) %>% summarise(Mean = mean(Emissions), Median = median(Emissions))
p1 <- ggplot(baltimore.highway, aes(year, log10(Mean))) +
geom_line(aes(col = as.factor(Highway))) +
scale_color_manual(labels = c("Non-vehicular", "Vehicle"), values = c("red", "blue")) +
ggtitle("Mean Emissions, per type 1999-2008")
p1$labels$colour <- "Type"
p1$labels$x <- "Year"
p2 <- ggplot(baltimore.highway, aes(year, log10(Median))) +
geom_line(aes(col = as.factor(Highway))) +
scale_color_manual(labels = c("Non-vehicular", "Vehicle"), values = c("red", "blue")) +
ggtitle("Median Emissions, per type 1999-2008")
p2$labels$colour <- "Type"
p2$labels$x <- "Year"
grid.newpage()
grid.arrange(p1, p2)
p1 <- ggplot(baltimore.highway, aes(year, log10(Median))) +
geom_line(aes(col = as.factor(Highway))) +
scale_color_manual(labels = c("Non-vehicular", "Vehicle"), values = c("red", "blue")) +
ggtitle("Median Emissions, per type 1999-2008")
p1$labels$colour <- "Type"
p1$labels$x <- "Year"
p1
p1 <- ggplot(baltimore.highway, aes(year, Median)) +
geom_line(aes(col = as.factor(Highway))) +
scale_color_manual(labels = c("Non-vehicular", "Vehicle"), values = c("red", "blue")) +
ggtitle("Emissions, per type 1999-2008")
p1$labels$colour <- "Type"
p1$labels$x <- "Year"
p1
baltimore.highway <- NEI.SCC %>% filter(Highway == TRUE) %>% group_by(year) %>% summarise(Emissions = median(Emissions))
p1 <- ggplot(baltimore.highway, aes(year, Emissions)) +
geom_line(aes(col = as.factor(Highway))) +
scale_color_manual(labels = c("Non-vehicular", "Vehicle"), values = c("red", "blue")) +
ggtitle("Emissions, per type 1999-2008")
p1$labels$colour <- "Type"
p1$labels$x <- "Year"
p1
baltimore.highway
ggplot(baltimore.highway, aes(year, Emissions)) +
geom_line(aes(col = "blue")) +
ggtitle("Emissions, per type 1999-2008")
p1 <- ggplot(baltimore.highway, aes(year, Emissions)) +
geom_line(aes(col = "blue")) +
ggtitle("Emissions, per type 1999-2008")
p1$labels <- NULL
p1
plot(x=baltimore.highway$year, y = baltimore.highway$Emissions, xlab = "Year", ylab = "Emission Value", main = "Motor Vehicle Emissions, Baltimore 1999-2008")
plot(x=baltimore.highway$year, y = baltimore.highway$Emissions, xlab = "Year", ylab = "Emission Value", main = "Motor Vehicle Emissions, Baltimore 1999-2008", type = "l", lwd = 2, col = "blue")
png(filename = "plot5.png", width = 1000, height = 800)
plot(x=baltimore.highway$year, y = baltimore.highway$Emissions, xlab = "Year", ylab = "Emission Value", main = "Motor Vehicle Emissions, Baltimore 1999-2008", type = "l", lwd = 2, col = "blue")
dev.off()
rum(baltimore.highway)
rm(baltimore.highway)
baltimore.highway <- subset(NEI.SCC, fips == "24510" & Highway == TRUE)
la.highway = subset(NEI.SCC, fips == "06037" & Highway == TRUE)
baltimore.highway <- subset(NEI.SCC, fips == "24510" & Highway == TRUE) %>% summarise(Emissions = median(Emissions))
baltimore.highway <- subset(NEI.SCC, fips == "24510" & Highway == TRUE) %>% group_by(year) %>% summarise(Emissions = median(Emissions))
baltimore.highway
la.highway = subset(NEI.SCC, fips == "06037" & Highway == TRUE) %>% group_by(year) %>% summarise(Emissions = median(Emissions))
r1 <- range(baltimore.highway$Emissions)
r2 <- range(la.highway$Emissions)
r <- c(min(r1,r2), max(r1,r2))
plot(x=baltimore.highway$year, y=median(baltimore.highway$Emissions), xlab = "Year", ylab = "Emission Value", main = "Motor Vehicle Emissions, Baltimore vs. L.A.", ylim = r, type = "l", lwd = 2, col = "blue")
baltimore.highway$year
plot(x=baltimore.highway$year, y=baltimore.highway$Emissions, xlab = "Year", ylab = "Emission Value", main = "Motor Vehicle Emissions, Baltimore vs. L.A.", ylim = r, type = "l", lwd = 2, col = "blue")
par(new = TRUE)
plot(x=la.highway$year, y=la.highway$Emissions, xlab = "Year", ylab = "Emission Value", ylim = r, col = "red", lwd = 2, lty = 2, type = "l")
legend("topright", legend = c("Los Angeles", "Baltimore"), lty = c(1,1), col = c("red", "blue"))
png(filename = "plot6.png", width = 800, height = 600)
plot(x=baltimore.highway$year, y=baltimore.highway$Emissions, xlab = "Year", ylab = "Emission Value", main = "Motor Vehicle Emissions, Baltimore vs. L.A.", ylim = r, type = "l", lwd = 2, col = "blue")
par(new = TRUE)
plot(x=la.highway$year, y=la.highway$Emissions, xlab = "Year", ylab = "Emission Value", ylim = r, col = "red", lwd = 2, lty = 2, type = "l")
legend("topright", legend = c("Los Angeles", "Baltimore"), lty = c(1,1), col = c("red", "blue"))
dev.off()
